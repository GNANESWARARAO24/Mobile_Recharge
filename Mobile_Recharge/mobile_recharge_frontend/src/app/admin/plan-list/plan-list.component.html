<div class="container py-4">
  <div class="card shadow-lg mx-auto">
    <div class="card-body p-4">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="card-title mb-0 text-dark fs-4">
          <i class="fas fa-list-alt me-2 text-indigo"></i>Plan List
        </h2>
        <button
          (click)="addPlan()"
          class="btn btn-primary d-flex align-items-center"
        >
          <i class="fas fa-plus me-2"></i>Add New Plan
        </button>
      </div>

      <div class="mb-3">
        <div class="input-group">
          <input
            type="text"
            class="form-control"
            placeholder="Search by name, category, or price..."
            [(ngModel)]="searchText"
            (ngModelChange)="searchPlans()"
          />
          <button class="btn btn-primary" type="button">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>

      <div class="table-responsive">
        <table
          class="table table-striped table-hover table-bordered caption-top"
        >
          <caption>
            List of all available plans
          </caption>
          <thead>
            <tr class="table-primary">
              <th scope="col"><i class="fas fa-tag me-1"></i>Name</th>
              <th scope="col"><i class="fas fa-bookmark me-1"></i>Category</th>
              <th scope="col"><i class="fas fa-rupee-sign me-1"></i>Price</th>
              <th scope="col"><i class="fas fa-signal me-1"></i>Data/Day</th>
              <th scope="col"><i class="fas fa-phone-alt me-1"></i>Calls</th>
              <th scope="col"><i class="fas fa-sms me-1"></i>SMS</th>
              <th scope="col">
                <i class="fas fa-calendar-day me-1"></i>Validity (Days)
              </th>
              <th scope="col" class="text-center">
                <i class="fas fa-cog me-1"></i>Actions
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="!filteredPlans || filteredPlans.length === 0">
              <td colspan="8" class="text-center text-muted py-3">
                No plans available. Click "Add New Plan" to get started!
              </td>
            </tr>
            <tr *ngFor="let plan of filteredPlans; let i = index">
              <td>{{ plan.name }}</td>
              <td>{{ plan.category }}</td>
              <td>â‚¹{{ plan.price }}</td>
              <td>{{ plan.dataPerDay }}</td>
              <td>{{ plan.calls }}</td>
              <td>{{ plan.sms }}</td>
              <td>{{ plan.validityDays }}</td>
              <td class="text-center">
                <button
                  (click)="editPlan(plan.id)"
                  class="btn btn-primary btn-sm me-2"
                  title="Edit Plan"
                >
                  <i class="fas fa-edit"></i>
                </button>
                <button
                  (click)="deletePlan(plan.id)"
                  class="btn btn-danger btn-sm"
                  title="Delete Plan"
                >
                  <i class="fas fa-trash-alt"></i>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <p *ngIf="errorMessage" class="alert alert-danger text-center mt-4 mb-0">
        {{ errorMessage }}
      </p>
    </div>
  </div>
</div>
