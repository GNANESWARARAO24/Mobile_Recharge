<div class="container py-3">
  <div class="card shadow-lg mx-auto" style="max-width: 700px">
    <div class="card-body p-4">
      <h2 class="card-title text-center mb-4 fs-4">
        <i class="fas fa-user-plus me-2"></i>Add New Subscriber
      </h2>

      <form [formGroup]="addSubscriberForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label for="mobileNumber" class="form-label"
            >Mobile Number</label
          >
          <input
            type="text"
            id="mobileNumber"
            formControlName="mobileNumber"
            class="form-control form-control-lg"
            placeholder="Enter 10-digit mobile number"
            maxlength="10"
            required
          />
          <div
            *ngIf="
              addSubscriberForm.get('mobileNumber')?.invalid &&
              addSubscriberForm.get('mobileNumber')?.touched
            "
            class="text-danger mt-1 small"
          >
            <span
              *ngIf="
                addSubscriberForm.get('mobileNumber')?.hasError('required')
              "
            >
              Mobile number is required.
            </span>
            <span
              *ngIf="addSubscriberForm.get('mobileNumber')?.hasError('pattern')"
            >
              Please enter a valid 10-digit number.
            </span>
          </div>
        </div>

        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input
            type="text"
            id="name"
            formControlName="name"
            class="form-control form-control-lg"
            placeholder="Enter subscriber's full name"
            required
          />
          <div
            *ngIf="
              addSubscriberForm.get('name')?.invalid &&
              addSubscriberForm.get('name')?.touched
            "
            class="text-danger mt-1 small"
          >
            <span *ngIf="addSubscriberForm.get('name')?.hasError('required')">
              Name is required.
            </span>
          </div>
        </div>

        <div class="mb-3">
          <label for="email" class="form-label"
            >Email (Optional)</label
          >
          <input
            type="email"
            id="email"
            formControlName="email"
            class="form-control form-control-lg"
            placeholder="Enter email address"
          />
          <div
            *ngIf="
              addSubscriberForm.get('email')?.hasError('email') &&
              addSubscriberForm.get('email')?.touched
            "
            class="text-danger mt-1 small"
          >
            Invalid email format.
          </div>
        </div>

        <div class="mb-4">
          <label for="currentPlanId" class="form-label"
            >Select Plan</label
          >
          
          <select
            id="currentPlanId"
            formControlName="currentPlanId"
            class="form-select form-select-lg"
            required
          >
            <option value="" disabled selected>Select a Plan</option>
            <option *ngFor="let plan of plans" [value]="plan.id">
              {{ plan.name }} (â‚¹{{ plan.price }})
            </option>
          </select>
          <div
            *ngIf="
              addSubscriberForm.get('currentPlanId')?.invalid &&
              addSubscriberForm.get('currentPlanId')?.touched
            "
            class="text-danger mt-1 small"
          >
            <span
              *ngIf="
                addSubscriberForm.get('currentPlanId')?.hasError('required')
              "
            >
              Please select a plan.
            </span>
          </div>
        </div>

        <button
          type="submit"
          [disabled]="addSubscriberForm.invalid"
          class="btn btn-primary btn-lg w-100 mb-3 d-flex align-items-center justify-content-center"
        >
          <i class="fas fa-save me-2"></i>Add Subscriber
        </button>

        <p *ngIf="successMessage" class="alert alert-success text-center mt-3 mb-0">
          {{ successMessage }}
        </p>
        <p *ngIf="errorMessage" class="alert alert-danger text-center mt-3 mb-0">
          {{ errorMessage }}
        </p>
      </form>
    </div>
  </div>
</div>
